<!DOCTYPE html>
<html>
<head>
	<title>Game</title>
</head>
<canvas id="mycanvas" height="600" width="600" style="background-color:#FFBEC9;" onclick="showCoords(event)">
</canvas>
<body>
	<script type="text/javascript">
		var canvas=document.getElementById("mycanvas");
		var ctx=canvas.getContext("2d");
		function drawRect(x,y,color) {
		    ctx.fillStyle = color;
		    ctx.fillRect(x, y, 100, 100);
		}
		var x1=Math.floor(Math.random()*501);
		var y1=Math.floor(Math.random()*201);
		var x2=Math.floor(Math.random()*501);
		var y2=Math.floor(Math.random()*200)+300;
		var c1='#af67f1';
		var c2='#beffc3ba';
		drawRect(x1,y1,c1);
		drawRect(x2,y2,c2);
		function colli(x1,y1,x2,y2)
		{
		  	if(((x1 < x2+100) && (x1+100>x2) && (y1+100>y2) && (y2< y2+100)))
		    {      
		        return(true); 
		    }
		  	return(false);
		}
		function showCoords(event) {
		 	var xc = event.clientX;
		  	var yc = event.clientY;
		  	if(xc>=x1 && xc<=x1+100 && yc>=y1 && yc<=y1+100)
		  	{
			    window.onkeydown = function(event) {
				    var keyPr = event.keyCode;  
				    if(keyPr === 39 && x1<=498 && colli(x1+1,y1,x2,y2)==false){ 
				        x1 = x1+1;
				    }
				    else if(keyPr === 37 && x1>2 && colli(x1-1,y1,x2,y2)==false){
				        x1 = x1-1; 
				    }
				    else if(keyPr === 38 && y1>2 && colli(x1,y1-1,x2,y2)==false) {
				        y1 = y1-1; 
				    }
				    else if(keyPr === 40 && y1<=498 && colli(x1,y1+1,x2,y2)==false){
				        y1 = y1+1; 
				    }
				    ctx.clearRect(0,0,600,600);
				    drawRect(x1,y1,c1);
				    drawRect(x2,y2,c2);
				}
		  }
		  else if(xc>=x2 && xc<=x2+100 && yc>=y2 && yc<=y2+100)
		  {
			    window.onkeydown = function(event) {
				    var keyPr = event.keyCode;  
				    if(keyPr === 39 && x2<=498 && colli(x1,y1,x2+1,y2)==false){ 
				        x2 = x2+1;
				    }
				    else if(keyPr === 37 && x1>2 && colli(x1,y1,x2-1,y2)==false){
				        x2= x2-1; 
				    }
				    else if(keyPr === 38 && y1>2 && colli(x1,y1,x2,y2-1)==false) {
				        y2= y2-1; 
				    }
				    else if(keyPr === 40 && y1<=498 && colli(x1,y1,x2,y2+1)==false){
				        y2= y2+1; 
				    }
						
				    ctx.clearRect(0,0,600,600);
				    drawRect(x2,y2,c2);
				    drawRect(x1,y1,c1);
				}
		  	}
		}
	</script>
</body>
</html>